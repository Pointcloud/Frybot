#!/usr/bin/env python

import time
import rospy # pylint: disable=import-error
from sensor_msgs.msg import JointState # pylint: disable=import-error

def joint_states_topic_callback(data):
	global MANIPULATOR_JOINT_STATES = JointState()
	MANIPULATOR_JOINT_STATES =  data.position[]

def joint_state_service_callback(joints):
	global MANIPULATOR_JOINT_STATES = JointState()
	return MANIPULATOR_JOINT_STATES 

def manipulator_joint_position_service():
	rospy.init_node('manipulator_joint_state_server')
	s = rospy.Service('manipulator_get_joint_values', JointState, joint_state_service_callback)
	print("Ready to recieve manipulator joint state requests")
	rospy.spin()

if __name__ == "__main__":
	global MANIPULATOR_JOINT_STATES = JointState()

	#setup a subscriber to get joint states, allow 1 second for subscriber to register
	rospy.Subscriber("/open_manipulator/joint_states", JointState, joint_states_topic_callback)
	time.sleep(1) 
	manipulator_joint_position_service()